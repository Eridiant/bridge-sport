!function(){"use strict";function e(e){var t=document.querySelector(".nav");e?t.classList.remove("nav-active"):t.classList.add("nav-active")}document.addEventListener("DOMContentLoaded",(function(){var t=0;n();try{console.log(!1),window.addEventListener("scroll",(function(e){n()}),!0)}catch(e){console.log(e)}function n(){var n=window.pageYOffset;n>100&&t?e(t=0):n<=100&&!t&&e(t=1)}if(document.querySelector("#post-youtube")){var a=document.querySelector("#post-youtube"),o=a.dataset.youtube,s=function(){new Promise((function(e,t){a.innerHTML='<iframe src="https://www.youtube.com/embed/'.concat(o,'?autoplay=1" title="YouTube video player" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'),a.classList.remove("active")})).then((function(){a.removeEventListener("click",s,!1)}))};a.addEventListener("click",s,!1)}if(document.querySelector("#post-iframe")){var d=document.querySelector("#post-iframe"),i=d.dataset.iframe,c=function(){new Promise((function(e,t){d.onload=e,d.onerror=t,d.innerHTML='<iframe src="'.concat(i,'"></iframe>'),d.classList.remove("active")})).then((function(){d.removeEventListener("click",c,!1)}))};d.addEventListener("click",c,!1)}var l=document.querySelector("#bidding");if(l){var r,u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.dataset.parent,a={system_id:l.dataset.system,parent_id:n,pass_count:t};xhRequest(a,"/bid/fill").then((function(e){var t=JSON.parse(e).data;y.innerHTML="",b.querySelectorAll(".exist").forEach((function(e){e.classList.remove("exist")})),t.forEach((function(e){var t=e.description?'<details><summary></summary><span class="details">'.concat(e.description,"</span></details>"):"";r='<div data-num="'.concat(e.num,'" data-bid="').concat(e.bid,'" data-id="').concat(e.id,'" class=""><span  class="excerpt">').concat(e.excerpt,"</span>").concat(t,"</div>"),y.innerHTML+=r,b.querySelector('span[data-num="'.concat(e.num,'"]')).classList.add("exist"),b.querySelector('span[data-num="'.concat(e.num,'"]')).dataset.pr=e.id}))})).catch((function(e){alert(e),console.log(e)}))},m=function(e){for(;(null===(t=e)||void 0===t||null===(n=t.previousElementSibling)||void 0===n||null===(a=n.dataset)||void 0===a||!a.num)&&null!==(null===(o=e)||void 0===o?void 0:o.previousElementSibling);){var t,n,a,o,s;e=null===(s=e)||void 0===s?void 0:s.previousElementSibling}return null===e.previousElementSibling?0:e.previousElementSibling},v=function(e){var t=document.querySelector("#dbl");e%2!=0?t.classList.remove("dbl"):t.classList.contains("dbl")||h||t.classList.add("dbl")},p=function(e){if(!(e<0)){var t=document.querySelector("style"),n="\n                .bidding-wrapper span:nth-child(-n+".concat(e,") {\n                    height: 0;\n                    opacity: 0;\n                    font-size: 0px;\n                }\n            ");t.innerHTML=n}},f=document.querySelector("#body"),b=document.querySelector("#box"),y=document.querySelector("#bidding-values"),S=document.querySelector("#competition"),L=(document.querySelector("#vulnerable"),document.querySelector("#fillout"),0),q=0,h=0;u(0,null),f.addEventListener("click",(function(e){var t,n,a,o,s,d,i,c,l=e.target,r=l.closest("span").previousElementSibling;null===r?q=L=0:L=r.dataset.num?0:r.dataset.count;var b=null===(t=m(l))||void 0===t||null===(n=t.dataset)||void 0===n?void 0:n.num;-1==b&&document.querySelector("#dbl").classList.add("redbl"),-2==b?(document.querySelector("#dbl").classList.add("redbl"),h=1):h=0,L%2==0&&null!==l.previousElementSibling&&(S.checked=!0),delete l.closest("span").dataset.num,delete l.closest("span").dataset.parent,delete l.closest("span").dataset.count,v(L),p(b),function(){for(;l.closest("span")!==f.lastElementChild;)f.lastElementChild.remove();document.querySelector("#body span:last-child").innerHTML="?"}();var y=null!==(a=null===(o=m(l))||void 0===o||null===(s=o.dataset)||void 0===s?void 0:s.parent)&&void 0!==a?a:0;f.dataset.parent=y,u(b,L,null!==(d=null===(i=m(l))||void 0===i||null===(c=i.dataset)||void 0===c?void 0:c.parent)&&void 0!==d?d:0)})),l.addEventListener("click",(function(e){var t=e.target,n=t.dataset.num;if(t.closest("#box")&&t.dataset.num&&(t.closest(".exist")||!Number(t.dataset.num))){var a,o,s,d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;L>2&&q||L>3||(t.closest(".bidding-wrapper")&&p(t.dataset.num),(l=n||document.createElement("span")).innerHTML=e,"pass"!==e&&"?"!==e&&(l.dataset.num=t.dataset.num,l.dataset.parent=t.dataset.pr),c.append(l),i(e))},i=function(e){if(t.dataset.num<1){if(0===t.dataset.num)return L++;-1==t.dataset.num&&document.querySelector("#dbl").classList.add("redbl"),-2==t.dataset.num&&(h=1)}return(t.dataset.num>1||-2==t.dataset.num)&&(document.querySelector("#dbl").classList.remove("redbl"),document.querySelector("#dbl").classList.remove("dbl")),t.dataset.num>1&&(h=0),"pass"===e?(L++,void(l.dataset.count=L)):"?"!==e?(l.dataset.count=L,L=0):void 0},c=document.querySelector("#body"),l=document.querySelector("#body span:last-child");if(d(t.dataset.bid,l),Number(t.dataset.num)&&(q=1),!S.checked&&L<1&&d("pass"),d("?",0,1),v(L),f.dataset.parent=null!==(a=null===(o=m(document.querySelector("#body span:last-child")))||void 0===o||null===(s=o.dataset)||void 0===s?void 0:s.parent)&&void 0!==a?a:0,u(n,L),!Number(t.dataset.num))return}}))}}))}();